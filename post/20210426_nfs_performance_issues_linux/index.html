<!DOCTYPE html>
<html lang="ko-kr">
  <head>
    
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.81.0 with theme Tranquilpeak 0.4.8-BETA">
<meta name="author" content="Jeffrey YM Jo">
<meta name="keywords" content="tech">
<meta name="description" content="
언제가 NAS에 연결된 이미지 웹 서비스 지연이 발생했던 과거 자료를 찾아 다시 정리한 노트  (Update: Apr 26, 2021)
">


<meta property="og:description" content="
언제가 NAS에 연결된 이미지 웹 서비스 지연이 발생했던 과거 자료를 찾아 다시 정리한 노트  (Update: Apr 26, 2021)
">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux, NFS performance issues check">
<meta name="twitter:title" content="Linux, NFS performance issues check">
<meta property="og:url" content="https://010000.github.io/post/20210426_nfs_performance_issues_linux/">
<meta property="twitter:url" content="https://010000.github.io/post/20210426_nfs_performance_issues_linux/">
<meta property="og:site_name" content="010000 logbook">
<meta property="og:description" content="
언제가 NAS에 연결된 이미지 웹 서비스 지연이 발생했던 과거 자료를 찾아 다시 정리한 노트  (Update: Apr 26, 2021)
">
<meta name="twitter:description" content="
언제가 NAS에 연결된 이미지 웹 서비스 지연이 발생했던 과거 자료를 찾아 다시 정리한 노트  (Update: Apr 26, 2021)
">
<meta property="og:locale" content="en-us">

  
    <meta property="article:published_time" content="2021-04-26T20:19:00">
  
  
    <meta property="article:modified_time" content="2021-04-26T20:19:00">
  
  
  
    
      <meta property="article:section" content="OS_Linux">
    
  
  
    
      <meta property="article:tag" content="nfs">
    
      <meta property="article:tag" content="mount">
    
      <meta property="article:tag" content="option">
    
      <meta property="article:tag" content="performance">
    
      <meta property="article:tag" content="issue">
    
      <meta property="article:tag" content="linux">
    
  


<meta name="twitter:card" content="summary">











  <meta property="og:image" content="https://res.cloudinary.com/oloooo/image/upload/v1614951872/githubpages/netscape_wcocsw.gif">
  <meta property="twitter:image" content="https://res.cloudinary.com/oloooo/image/upload/v1614951872/githubpages/netscape_wcocsw.gif">


    <title>Linux, NFS performance issues check</title>

    <link rel="icon" href="https://010000.github.io/favicon.ico">
    

    

    <link rel="canonical" href="https://010000.github.io/post/20210426_nfs_performance_issues_linux/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://010000.github.io/css/style-s8xlgnopppjrvgff3zxwbooca3paivectafco2acr0hxdpldmmx7q5e8xki.min.css" />
    
    
      
        <link rel="stylesheet"  href="https://010000.github.io/css/syntax.css">
      
    

    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-154694083-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    
    
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/gist-embed/2.7.1/gist-embed.min.js"></script>
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="1">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://010000.github.io/">010000 logbook</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://010000.github.io/#about">
    
    
    
      
        <img class="header-picture" src="https://res.cloudinary.com/oloooo/image/upload/v1614951872/githubpages/netscape_wcocsw.gif" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="1">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://010000.github.io/#about">
          <img class="sidebar-profile-picture" src="https://res.cloudinary.com/oloooo/image/upload/v1614951872/githubpages/netscape_wcocsw.gif" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Jeffrey YM Jo</h4>
        
          <h5 class="sidebar-profile-bio">경험과 생각들을 정리하며, 다시 찾는 시간을 아끼기 위해 모아놓는 블로그입니다.</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://010000.github.io/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://010000.github.io/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://010000.github.io/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://010000.github.io/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-hashtag"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://010000.github.io/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-address-card"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="mailto:010000c@gmail.com" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-envelope"></i>
      
      <span class="sidebar-button-desc">Email</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/010000" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://010000.github.io/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="1"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      Linux, NFS performance issues check
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2021-04-26T20:19:00&#43;09:00">
        
  April 26, 2021

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="https://010000.github.io/categories/os_linux">OS_Linux</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <ul>
<li>언제가 NAS에 연결된 이미지 웹 서비스 지연이 발생했던 과거 자료를 찾아 다시 정리한 노트  <em>(Update: Apr 26, 2021)</em></li>
</ul>
<h3 id="환경-구성">환경 구성</h3>
<ul>
<li>Client: CentOS 6</li>
<li>Web service: Nginx (NFS mounted)
 </li>
</ul>
<h3 id="1-문제-현상">1. 문제 현상</h3>
<ol>
<li>이미지 웹 서비스 간헐적 오류</li>
<li>불규칙하게 NAS에 저장된 샘플 파일의 속성을 읽을 때 지연 발생</li>
<li>client 간 네트웍 연결 상태, Local file 호출 등은 언제든 정상
 </li>
</ol>
<h3 id="2-문제-해소를-위한-설정들">2. 문제 해소를 위한 설정들</h3>
<ol>
<li>웹 서비스를 하는 (NFS) client의 설정</li>
<li>문제 해소를 위해 구글링하며 적용했던 설정으로 최적화를 위해 사후 테스트를 더 해보고 싶었으나 진행 여건이 안되어 무의미하거나 부적합한 부분이 있을 수 있음</li>
<li>수 년간 서비스를 해오던 NAS장비라 (NFS) Server측 수정은 일단 보류</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>USER1@SVR1 ~<span style="color:#f92672">]</span>$ cat /etc/fstab

<span style="color:#75715e"># Created by anaconda on Wed Feb  6 00:13:32 2014</span>
/dev/sda3                / ext3 defaults <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">1</span>
<span style="color:#f92672">(</span>...생략...<span style="color:#f92672">)</span>

img1.nas:/ifs/img1nas    /mnt/img1nas       nfs     bg,soft,rw,nfsvers<span style="color:#f92672">=</span>3,rsize<span style="color:#f92672">=</span>1048576,wsize<span style="color:#f92672">=</span>1048576,actimeo<span style="color:#f92672">=</span>30,timeo<span style="color:#f92672">=</span>6,retrans<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>      <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>

<span style="color:#f92672">(</span>...생략...<span style="color:#f92672">)</span>

</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>USER1@SVR1 ~<span style="color:#f92672">]</span>$ nfsstat --version
nfsstat: 1.2.3

<span style="color:#f92672">[</span>USER1@SVR1 ~<span style="color:#f92672">]</span>$ nfsstat -m
<span style="color:#f92672">(</span>...생략...<span style="color:#f92672">)</span>

/mnt/img1nas from img1.nas:/ifs/img1nas
 Flags: rw,relatime,vers<span style="color:#f92672">=</span>3,rsize<span style="color:#f92672">=</span>1048576,wsize<span style="color:#f92672">=</span>1048576,namlen<span style="color:#f92672">=</span>255,acregmin<span style="color:#f92672">=</span>30,acregmax<span style="color:#f92672">=</span>30,acdirmax<span style="color:#f92672">=</span>30,soft,proto<span style="color:#f92672">=</span>tcp,timeo<span style="color:#f92672">=</span>6,retrans<span style="color:#f92672">=</span>5,sec<span style="color:#f92672">=</span>sys,mountaddr<span style="color:#f92672">=</span>192.168.100.51,mountvers<span style="color:#f92672">=</span>3,mountport<span style="color:#f92672">=</span>300,mountproto<span style="color:#f92672">=</span>udp,local_lock<span style="color:#f92672">=</span>none,addr<span style="color:#f92672">=</span>192.168.100.51

<span style="color:#f92672">(</span>...생략...<span style="color:#f92672">)</span>

</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>USER1@SVR1 ~<span style="color:#f92672">]</span>$ nfsstat -r
Client rpc stats:
calls      retrans    authrefrsh
<span style="color:#ae81ff">968117362</span>   <span style="color:#ae81ff">280883</span>     <span style="color:#ae81ff">968171794</span>


<span style="color:#f92672">[</span>USER1@SVR1 ~<span style="color:#f92672">]</span>$ nfsstat -c
Client rpc stats:
calls      retrans    authrefrsh
<span style="color:#ae81ff">968117362</span>   <span style="color:#ae81ff">280883</span>     <span style="color:#ae81ff">968171794</span>

Client nfs v3:
null         getattr      setattr      lookup       access       readlink
<span style="color:#ae81ff">0</span>         0% <span style="color:#ae81ff">561576</span>    0% <span style="color:#ae81ff">0</span>         0% <span style="color:#ae81ff">365603330</span> 37% <span style="color:#ae81ff">467643682</span> 48% <span style="color:#ae81ff">0</span>         0%
read         write        create       mkdir        symlink      mknod
<span style="color:#ae81ff">134295360</span> 13% <span style="color:#ae81ff">0</span>         0% <span style="color:#ae81ff">0</span>         0% <span style="color:#ae81ff">0</span>         0% <span style="color:#ae81ff">0</span>         0% <span style="color:#ae81ff">0</span>         0%
remove       rmdir        rename       link         readdir      readdirplus
<span style="color:#ae81ff">0</span>         0% <span style="color:#ae81ff">0</span>         0% <span style="color:#ae81ff">0</span>         0% <span style="color:#ae81ff">0</span>         0% <span style="color:#ae81ff">0</span>         0% <span style="color:#ae81ff">0</span>         0%
fsstat       fsinfo       pathconf     commit
<span style="color:#ae81ff">42669</span>     0% <span style="color:#ae81ff">6</span>         0% <span style="color:#ae81ff">3</span>         0% <span style="color:#ae81ff">0</span>         0%


<span style="color:#f92672">[</span>USER1@SVR1 ~<span style="color:#f92672">]</span>$ nfsstat -o net
Client packet stats:
packets    udp        tcp        tcpconn
<span style="color:#ae81ff">0</span>          <span style="color:#ae81ff">0</span>          <span style="color:#ae81ff">0</span>          <span style="color:#ae81ff">0</span>

<span style="color:#75715e"># You can also check dropped packet by running the following command on both the server and the client.</span>
<span style="color:#75715e"># https://www.redhat.com/sysadmin/using-nfsstat-nfsiostat</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>USER1@SVR1 ~<span style="color:#f92672">]</span>$ nfsiostat
<span style="color:#f92672">(</span>...생략...<span style="color:#f92672">)</span>

img1.nas:/ifs/img1nas mounted on /mnt/img1nas :

   op/s         rpc bklog
 247.48            0.00
read:             ops/s            kB/s           kB/op         retrans         avg RTT <span style="color:#f92672">(</span>ms<span style="color:#f92672">)</span>    avg exe <span style="color:#f92672">(</span>ms<span style="color:#f92672">)</span>
                 34.320         11576.200       337.304   <span style="color:#ae81ff">109856</span> <span style="color:#f92672">(</span>0.1%<span style="color:#f92672">)</span>          24.065          24.585
write:            ops/s            kB/s           kB/op         retrans         avg RTT <span style="color:#f92672">(</span>ms<span style="color:#f92672">)</span>    avg exe <span style="color:#f92672">(</span>ms<span style="color:#f92672">)</span>
                  0.000           0.000           0.000        <span style="color:#ae81ff">0</span> <span style="color:#f92672">(</span>0.0%<span style="color:#f92672">)</span>           0.000           0.000

<span style="color:#f92672">(</span>...생략...<span style="color:#f92672">)</span>

</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>USER1@SVR1 ~<span style="color:#f92672">]</span>$ sar <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">10</span>
Linux 2.6.32-642.15.1.el6.x86_64 <span style="color:#f92672">(</span>SVR1<span style="color:#f92672">)</span>  04/26/2021      _x86_64_        <span style="color:#f92672">(</span><span style="color:#ae81ff">8</span> CPU<span style="color:#f92672">)</span>

12:01:25 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
12:01:26 PM     all      0.00      0.00      0.25      3.14      0.00     96.61
<span style="color:#f92672">(</span>... 생략...<span style="color:#f92672">)</span>
Average:        all      0.04      0.00      0.25      4.06      0.00     95.65


<span style="color:#f92672">[</span>USER1@SVR1 ~<span style="color:#f92672">]</span>$ vmstat <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">10</span>
procs -----------memory---------- ---swap-- -----io---- --system-- -----cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span>      <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">120104</span> <span style="color:#ae81ff">141996</span> <span style="color:#ae81ff">6926004</span>    <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">2</span>     <span style="color:#ae81ff">4</span>    <span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">95</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">0</span>
 <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">1</span>      <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">138316</span> <span style="color:#ae81ff">142004</span> <span style="color:#ae81ff">6906660</span>    <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>   <span style="color:#ae81ff">120</span> <span style="color:#ae81ff">1195</span>  <span style="color:#ae81ff">989</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">97</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">0</span>
 <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span>      <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">134844</span> <span style="color:#ae81ff">142004</span> <span style="color:#ae81ff">6910028</span>    <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1120</span> <span style="color:#ae81ff">1006</span>  <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">97</span>  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">0</span>
<span style="color:#f92672">(</span>...생략...<span style="color:#f92672">)</span>

</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>USER1@SVR1 ~<span style="color:#f92672">]</span>$ cat /etc/sysctl.conf
net.ipv4.ip_local_port_range <span style="color:#f92672">=</span> <span style="color:#ae81ff">1024</span> <span style="color:#ae81ff">65535</span>
net.ipv4.tcp_tw_reuse <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
net.ipv4.tcp_fin_timeout <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>
net.ipv4.tcp_syncookies<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
net.ipv4.tcp_max_syn_backlog <span style="color:#f92672">=</span> <span style="color:#ae81ff">2048</span>
net.ipv6.conf.all.disable_ipv6 <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
net.ipv6.conf.default.disable_ipv6 <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
net.ipv6.conf.lo.disable_ipv6 <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>

net.ipv4.tcp_keepalive_time <span style="color:#f92672">=</span> <span style="color:#ae81ff">300</span>
net.ipv4.tcp_keepalive_probes <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>
net.ipv4.tcp_keepalive_intvl <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>

net.ipv4.tcp_rmem <span style="color:#f92672">=</span> <span style="color:#ae81ff">8192</span> <span style="color:#ae81ff">87380</span> <span style="color:#ae81ff">33554432</span>
net.ipv4.udp_rmem_min <span style="color:#f92672">=</span> <span style="color:#ae81ff">16384</span>
net.ipv4.tcp_wmem <span style="color:#f92672">=</span> <span style="color:#ae81ff">8192</span> <span style="color:#ae81ff">65536</span> <span style="color:#ae81ff">33554432</span>
net.ipv4.udp_wmem_min <span style="color:#f92672">=</span> <span style="color:#ae81ff">16384</span>

net.core.rmem_default <span style="color:#f92672">=</span> <span style="color:#ae81ff">31457280</span>
net.core.rmem_max <span style="color:#f92672">=</span> <span style="color:#ae81ff">33554432</span>
net.core.wmem_default <span style="color:#f92672">=</span> <span style="color:#ae81ff">31457280</span>
net.core.wmem_max <span style="color:#f92672">=</span> <span style="color:#ae81ff">33554432</span>

net.core.somaxconn <span style="color:#f92672">=</span> <span style="color:#ae81ff">65535</span>
net.core.netdev_max_backlog <span style="color:#f92672">=</span> <span style="color:#ae81ff">65536</span>
net.core.optmem_max <span style="color:#f92672">=</span> <span style="color:#ae81ff">25165824</span>

</code></pre></div><p>;NAS nfsstat</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">img1nas1-1# nfsstat
NFS server global statistics:
Read/write throughput <span style="color:#f92672">(</span>bytes<span style="color:#f92672">)</span>:
Read            Read ZC         Written         Written ZC
<span style="color:#ae81ff">2339145483409</span>   <span style="color:#ae81ff">2339145001333</span>   <span style="color:#ae81ff">579153243117092</span> <span style="color:#ae81ff">579153242172988</span>

Errors:
Authentication  Decode          No Procedure    No Program      Program Version System Error    Weak Auth
<span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">7126</span>            <span style="color:#ae81ff">640</span>             <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">437</span>
Total
<span style="color:#ae81ff">8203</span>

TCP Connections:
Current         Max
<span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>

Requests:
Current         Max             UDP             TCP             Duplicates      Total
<span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">9004</span>            <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">7339550</span>         <span style="color:#ae81ff">9004</span>

Miscellaneous:
Replies         SeqID           Upcalls
<span style="color:#ae81ff">18214141862</span>     <span style="color:#ae81ff">18221493762</span>     <span style="color:#ae81ff">22</span>

NFSv3 Server:
RPC Errors      Server Errors   Total Errors
<span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>

NFSv3 Server Operation Counts:
Null            Getattr         Setattr         Lookup          Access          Readlink        Read
<span style="color:#ae81ff">23</span>              <span style="color:#ae81ff">732893981</span>       <span style="color:#ae81ff">3089</span>            <span style="color:#ae81ff">5985029814</span>      <span style="color:#ae81ff">7010963343</span>      <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">3758544285</span>
Write           Create          Mkdir           Symlink         Mknod           Remove          Rmdir
<span style="color:#ae81ff">1075</span>            <span style="color:#ae81ff">1035</span>            <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">608953217</span>       <span style="color:#ae81ff">2479</span>
Rename          Link            Readdir         Readdir+        Fsstat          Fsinfo          Pathconf
<span style="color:#ae81ff">1</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">5144754</span>         <span style="color:#ae81ff">827715</span>          <span style="color:#ae81ff">765914</span>          <span style="color:#ae81ff">24</span>              <span style="color:#ae81ff">12</span>
Commit          Total
<span style="color:#ae81ff">28</span>              <span style="color:#ae81ff">18103130789</span>

NFSv3 Read Request Sizes:
0-512           512-1K          1K-2K           2k-4K           4K-8K           8K-16K          16K-32K
<span style="color:#ae81ff">35280910</span>        <span style="color:#ae81ff">14289084</span>        <span style="color:#ae81ff">18384064</span>        <span style="color:#ae81ff">19863212</span>        <span style="color:#ae81ff">57873139</span>        <span style="color:#ae81ff">198725246</span>       <span style="color:#ae81ff">174021882</span>
32K-64K         64K-128K        128K+           Total
<span style="color:#ae81ff">320244996</span>       <span style="color:#ae81ff">609638703</span>       <span style="color:#ae81ff">2310223054</span>      <span style="color:#ae81ff">3758544290</span>
NFSv3 Write Request Sizes:
0-512           512-1K          1K-2K           2k-4K           4K-8K           8K-16K          16K-32K
<span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">6</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">1</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>
32K-64K         64K-128K        128K+           Total
<span style="color:#ae81ff">10</span>              <span style="color:#ae81ff">10</span>              <span style="color:#ae81ff">1048</span>            <span style="color:#ae81ff">1075</span>

NFSv4 Server:
RPC Errors      Server Errors   Total Errors
<span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>
NFSv4 Server Clients:
Current Clients Total Clients   Open Owners     Opens           Lock Owners     Locks           Delegates
<span style="color:#ae81ff">3</span>               <span style="color:#ae81ff">11920</span>           <span style="color:#ae81ff">3</span>               <span style="color:#ae81ff">8</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>
VOP Writes      Cleanups
<span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>

NFSv4 Server Operation Counts:
Null            Compound        Illegal
<span style="color:#ae81ff">2</span>               <span style="color:#ae81ff">110367493</span>       <span style="color:#ae81ff">0</span>
Access          Close           Commit          Create          Delpurge        Delretrn        Getattr
<span style="color:#ae81ff">64512139</span>        <span style="color:#ae81ff">41667713</span>        <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">107336747</span>
Getfh           Link            Lock            Lockt           Locku           Lookup          Lookupp
<span style="color:#ae81ff">42633457</span>        <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">958510</span>          <span style="color:#ae81ff">0</span>
Nverify         Open            Openattr        Openconf        Opendngd        Putfh           Putpubfh
<span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">41717505</span>        <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">11909</span>           <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">110331033</span>       <span style="color:#ae81ff">0</span>
Putrtfh         Read            Readdir         Readlink        Remove          Rename          Renew
<span style="color:#ae81ff">1</span>               <span style="color:#ae81ff">2870826</span>         <span style="color:#ae81ff">68983</span>           <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">12621</span>
Restorfh        Savefh          Secinfo         Setattr         Setclid         Stcidcnf        Verify
<span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">11920</span>           <span style="color:#ae81ff">11917</span>           <span style="color:#ae81ff">0</span>
Write           Rlslkown        Bkchnctl        Bindconn        Exchid          Crtsesn         Dstrsesn
<span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>
Freestid        Gdirdlg         Gdevinfo        Gdevlist        Laycmt          Layget          Layret
<span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>
Secinfnn        Sequence        Setssv          Teststid        Wantdel         Dstrclid        Reclcplt
<span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>
Total
<span style="color:#ae81ff">412145281</span>

NFSv4 Read Request Sizes:
0-512           512-1K          1K-2K           2k-4K           4K-8K           8K-16K          16K-32K
<span style="color:#ae81ff">7544</span>            <span style="color:#ae81ff">8084</span>            <span style="color:#ae81ff">17554</span>           <span style="color:#ae81ff">43727</span>           <span style="color:#ae81ff">628889</span>          <span style="color:#ae81ff">433907</span>          <span style="color:#ae81ff">655075</span>
32K-64K         64K-128K        128K+           Total
<span style="color:#ae81ff">483306</span>          <span style="color:#ae81ff">311596</span>          <span style="color:#ae81ff">281144</span>          <span style="color:#ae81ff">2870826</span>
NFSv4 Write Request Sizes:
0-512           512-1K          1K-2K           2k-4K           4K-8K           8K-16K          16K-32K
<span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>
32K-64K         64K-128K        128K+           Total
<span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>


NLM Server Operation Counts:
Null            Test            Lock            Cancel          Unlock          Granted         Testmsg
<span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>
Lockmsg         Cancelmsg       Unlockmsg       Grantedmsg      Testres         Lockres         Cancelres
<span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>
Unlockres       Grantedres      Share           Unshare         Nmlock          Freeall         Total
<span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>               <span style="color:#ae81ff">0</span>
img1nas1-1#

</code></pre></div><h3 id="3-테스트로-검토했던-내용들">3. 테스트로 검토했던 내용들</h3>
<h4 id="1-nfs-file-attribute-cache-tuninghttpswwwibmcomdocsenaix72topicclient-nfs-file-attribute-cache-tuning">1) <a href="https://www.ibm.com/docs/en/aix/7.2?topic=client-nfs-file-attribute-cache-tuning" target="_blank" rel="noopener">NFS file-attribute cache tuning</a>
</h4>
<p>; NFS는 최근에 액세스 한 디렉토리 및 파일의 속성에 대한 캐시를 각 클라이언트 시스템에 유지합니다.<br>
mount 명령을 사용하여 여러 매개 변수를 설정하여 주어진 항목이 캐시에 보관되는 기간을 제어 할 수 있습니다. 업데이트 후 파일 및 디렉토리 항목이 파일 속성 캐시에 보관되는 절대 시간입니다. 지정된 경우 이 값들 모두 actimeo 값으로 효과적으로 설정됩니다.</p>
<h4 id="2-1-read-and-write-size-adjustmentshttpswwwibmcomdocsenaix72topicclient-read-write-size-adjustments">2-1) <a href="https://www.ibm.com/docs/en/aix/7.2?topic=client-read-write-size-adjustments" target="_blank" rel="noopener">Read and write size adjustments</a>
</h4>
<p>; NFS 파일 시스템이 기가비트 이더넷과 같은 고속 네트워크에 마운트 된 경우 읽기 및 쓰기 패킷 크기가 클수록 NFS 파일 시스템 성능이 향상 될 수 있습니다. NFS 버전 3 및 NFS 버전 4를 사용하면 네트워크 전송이 TCP 일 때 rsize 및 wsize 값을 65536까지 설정할 수 있습니다. 기본값은 32768입니다. NFS 버전 2에서 rsize 및 wsize 옵션의 최대 값은 기본값이기도 한 8192입니다.</p>
<h4 id="2-2-nfs-read-size-rsize-and-write-size-wsizehttpswwwdelltechnologiescomresourcesen-usassetwhite-papersproductsstorageh17240_wp_isilon_onefs_nfs_design_considerations_bppdf">2-2) <a href="https://www.delltechnologies.com/resources/en-us/asset/white-papers/products/storage/h17240_wp_isilon_onefs_nfs_design_considerations_bp.pdf" target="_blank" rel="noopener">NFS read size (rsize) and write size (wsize)</a>
</h4>
<p>; Timeout: The timeout period is specified by the mount parameter timeo and is expressed in deciseconds (tenths of a second). By default, for NFS over TCP the default timeo value is 600 (60 seconds). The NFS client performs linear back<br>
; Result shows in Figure 5 while mounting NFS with options nfsvers=4,rsize=1048576,wsize=1048576, which is the default value advised by OneFS. And leaves the other mount options as default</p>
<h4 id="2-3-common-nfs-mount-options-in-linuxhttpswwwthegeekdiarycomcommon-nfs-mount-options-in-linux">2-3) <a href="https://www.thegeekdiary.com/common-nfs-mount-options-in-linux/" target="_blank" rel="noopener">Common NFS mount options in Linux</a>
</h4>
<p>; 클라이언트와 서버간에 패킷이 삭제되는 경우 rsize를 4096 또는 2048로 줄입니다. 패킷 삭제 여부를 확인하려면 HP-UX 프롬프트에서 &ldquo;nfsstat -rc&quot;명령을 실행합니다. 이 명령에 의해 반환 된 시간 초과 및 재전송 값이 높지만 badxid 번호가 0에 가까우면 패킷이 네트워크의 어딘가에서 삭제됩니다.</p>
<h4 id="3-1-unnecessary-retransmitshttpswwwibmcomdocsenaix72topicclient-unnecessary-retransmits">3-1) <a href="https://www.ibm.com/docs/en/aix/7.2?topic=client-unnecessary-retransmits" target="_blank" rel="noopener">Unnecessary retransmits</a>
</h4>
<p>; 시간 초과 및 badxid의 총계의 5 % 이상과 같이 상당한 수를보고하면 mount 명령을 사용하여 timeo 매개 변수를 늘릴 수 있습니다. 기본 시간은 0.7 초, timeo = 7 입니다.<br>
; 타임 아웃을 더 길게 또는 더 짧게 만드는 올바른 방법은 할당 된 시간에 패킷이 도착하지 않는 이유에 따라 다릅니다. 패킷이 늦어지고 마침내 도착한 경우 timeo 변수를 더 길게 만들어 요청이 다시 전송되기 전에 응답이 반환 될 기회를 제공 할 수 있습니다. 그러나 패킷이 삭제되어 클라이언트에 도착하지 않을 경우 응답을 기다리는 데 소요 된 시간이 낭비되므로 시간을 단축 할 수 있습니다.<br>
; 취할 옵션을 추정하는 한 가지 방법은 클라이언트의 nfsstat -cr 출력을보고 클라이언트가 많은 badxid 수를보고하는지 확인하는 것입니다. badxid 값은 RPC 클라이언트가 예상했던 것과 다른 호출에 대한 RPC 호출 응답을 수신했음을 의미합니다. 일반적으로 이것은 클라이언트가 이전에 재전송 된 호출에 대해 중복 응답을 수신했음을 의미합니다. 따라서 패킷이 늦게 도착하므로 시간을 늘려야합니다.<br>
; <a href="https://docs.oracle.com/cd/E19120-01/open.solaris/819-1634/netmonitor-12/index.html" target="_blank" rel="noopener">How to Display NFS Server and Client Statistics</a>
</p>
<h4 id="3-2-lamp-시스템-조율-part-1-lamp-아키텍처-이해httpswwwkdataorkrinfoinfo_04_viewhtmlfieldkeywordtypetechreportpage225dbnum127586modedetailtypetechreport">3-2) <a href="https://www.kdata.or.kr/info/info_04_view.html?field=&amp;keyword=&amp;type=techreport&amp;page=225&amp;dbnum=127586&amp;mode=detail&amp;type=techreport" target="_blank" rel="noopener">LAMP 시스템 조율, Part 1: LAMP 아키텍처 이해</a>
</h4>
<p>; 둘째 열인 retrans가 0인데, 마지막 시동 후 재전송이 필요하지 않음을 보여준다. 이 숫자가 증가하면 NFS 커널 스레드를 높여야 한다.</p>
<h4 id="4-unused-nfs-acl-supporthttpswwwibmcomdocsenaix72topicclient-unused-nfs-acl-support">4) <a href="https://www.ibm.com/docs/en/aix/7.2?topic=client-unused-nfs-acl-support" target="_blank" rel="noopener">Unused NFS ACL support</a>
</h4>
<p>; 워크로드가 마운트 된 파일 시스템에서 NFS 액세스 제어 목록 또는 ACL 지원을 사용하지 않는 경우 noacl 옵션을 지정하여 클라이언트와 서버 모두에서 워크로드를 어느 정도 줄일 수 있습니다. options=noacl</p>
<h4 id="5-그-외-옵션들">5) 그 외 옵션들</h4>
<p><a href="https://www.ibm.com/docs/en/aix/7.2?topic=client-number-necessary-biod-threads" target="_blank" rel="noopener">Number of necessary biod threads</a>
<br>
<a href="https://www.ibm.com/docs/en/aix/7.2?topic=client-performance-implications-hard-soft-nfs-mounts" target="_blank" rel="noopener">Performance implications of hard or soft NFS mounts</a>
<br>
 </p>
<h3 id="4-참고-글">4. 참고 글</h3>
<ul>
<li><a href="https://coding-chobo.tistory.com/63" target="_blank" rel="noopener">NFS Performance Tuning</a>
</li>
<li><a href="https://m.blog.naver.com/kmk1030/220992452346" target="_blank" rel="noopener">NFS 성능 튜닝 요소</a>
</li>
<li><a href="https://www.redhat.com/sysadmin/using-nfsstat-nfsiostat" target="_blank" rel="noopener">Using nfsstat and nfsiostat to troubleshoot NFS performance issues on Linux</a>
</li>
<li><a href="https://bugzilla.redhat.com/show_bug.cgi?id=785931" target="_blank" rel="noopener">Red Hat Bugzilla – Bug 785931</a>
</li>
<li><a href="https://nautilusleenssi.blogspot.com/2019/12/nfs.html?m=0" target="_blank" rel="noopener">NFS 설정 및 속도 튜닝</a>
</li>
<li><a href="https://www.lesstif.com/system-admin/noatime-20776621.html" target="_blank" rel="noopener">noatime 마운트 옵션으로 파일 시스템 성능 향상 시키기</a>
</li>
</ul>
              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://010000.github.io/tags/nfs/">nfs</a>

  <a class="tag tag--primary tag--small" href="https://010000.github.io/tags/mount/">mount</a>

  <a class="tag tag--primary tag--small" href="https://010000.github.io/tags/option/">option</a>

  <a class="tag tag--primary tag--small" href="https://010000.github.io/tags/performance/">performance</a>

  <a class="tag tag--primary tag--small" href="https://010000.github.io/tags/issue/">issue</a>

  <a class="tag tag--primary tag--small" href="https://010000.github.io/tags/linux/">linux</a>

                  </div>
                
              
            
            <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://010000.github.io/post/20210427_bind_message_logs_linux/" data-tooltip="Linux, Bind message logs">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://010000.github.io/post/20210420_login_fail_windows_2016/" data-tooltip="Windows Server 2016 IIS web, chrome 에서 failed log in">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://010000.github.io/post/20210426_nfs_performance_issues_linux/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://010000.github.io/post/20210426_nfs_performance_issues_linux/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://010000.github.io/post/20210426_nfs_performance_issues_linux/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

            
              

              
            
          </div>
        </article>

	<script src="https://utteranc.es/client.js"
      	  repo="010000/blog-comments"
       	 issue-term="pathname"
       	 theme="github-light"
       	 crossorigin="anonymous"
       	 async>
	</script>

        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2021 <a href="https://github.com/010000">010000 Logbook</a>. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="1">
        <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://010000.github.io/post/20210427_bind_message_logs_linux/" data-tooltip="Linux, Bind message logs">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://010000.github.io/post/20210420_login_fail_windows_2016/" data-tooltip="Windows Server 2016 IIS web, chrome 에서 failed log in">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://010000.github.io/post/20210426_nfs_performance_issues_linux/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://010000.github.io/post/20210426_nfs_performance_issues_linux/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://010000.github.io/post/20210426_nfs_performance_issues_linux/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="1">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2F010000.github.io%2Fpost%2F20210426_nfs_performance_issues_linux%2F">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3A%2F%2F010000.github.io%2Fpost%2F20210426_nfs_performance_issues_linux%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https%3A%2F%2F010000.github.io%2Fpost%2F20210426_nfs_performance_issues_linux%2F">
          <i class="fa fa-google-plus"></i><span>Share on Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://res.cloudinary.com/oloooo/image/upload/v1614951872/githubpages/netscape_wcocsw.gif" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Jeffrey YM Jo</h4>
    
      <div id="about-card-bio">경험과 생각들을 정리하며, 다시 찾는 시간을 아끼기 위해 모아놓는 블로그입니다.</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Public
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        South Korea
      </div>
    
  </div>
</div>

    

    
  
    <div id="cover" style="background-image:url('https://res.cloudinary.com/oloooo/image/upload/v1614216485/githubpages/cover_2560px_oemeya.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="https://010000.github.io/js/script-n8mqrxp8rsufxtye69p9ch2uxowamnju45qdhlzy3r6bzgixdxhhwaa9zgxf.min.js"></script>


<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>

<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'https:\/\/010000.github.io\/post\/20210426_nfs_performance_issues_linux\/';
          
            this.page.identifier = '\/post\/20210426_nfs_performance_issues_linux\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = '010000';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  




    
  </body>
</html>

